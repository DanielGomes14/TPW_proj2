
<head>
  <link rel="stylesheet" href="/assets/css/clientdetails.css">
</head>

<ng-container *ngIf="client">

  <div class="container light-style flex-grow-1 container-p-y" style="max-width: 1500px">

    <h4 class="font-weight-bold py-3 mb-4">
      Account settings
    </h4>



    <!-- TODO Guardar erros ou whatever em variaveis no Angular
    {% if  error is not None %}
    <div class="alert alert-danger" role="alert">
      {{ error }}
    </div>
    {% endif %}
    {% if  success is not None %}
    <div class="alert alert-success" role="alert">
      {{ success }}
    </div>
    {% endif %}
    -->


    <div class="card overflow-hidden" style="margin-bottom: 50px">
      <div class="row no-gutters row-bordered row-border-light">
        <div class="col-md-2 pt-0">
          <div class="list-group list-group-flush account-settings-links">
            <a class="list-group-item list-group-item-action" [ngClass]=" card == 'general' ? 'active' : ''" (click)="showCard('general')">General</a>
            <a class="list-group-item list-group-item-action" [ngClass]=" card == 'pw' ? 'active' : ''" (click)="showCard('pw')">Change password</a>
            <a *ngIf="!client.user.is_superuser" class="list-group-item list-group-item-action" [ngClass]=" card == 'favs' ? 'active' : ''" (click)="showCard('favs')">Favourites</a>
            <a *ngIf="!client.user.is_superuser" class="list-group-item list-group-item-action" [ngClass]=" card == 'apps' ? 'active' : ''" (click)="showCard('apps')">My Apps</a>
            <a *ngIf="!client.user.is_superuser" class="list-group-item list-group-item-action" [ngClass]=" card == 'revs' ? 'active' : ''" (click)="showCard('revs')">My Reviews</a>
            <a *ngIf="client.user.is_superuser" class="list-group-item list-group-item-action" routerLink="/admin">Admin</a>
          </div>
        </div>
        <div class="col-md-10">
            <app-clientgen *ngIf="card == 'general'" [client]="client"></app-clientgen>
            <app-clientpw *ngIf="card == 'pw'"></app-clientpw>
            <app-clientfavs *ngIf="card == 'favs'" [client]="client"></app-clientfavs>
            <app-clientapps *ngIf="card == 'apps'" [client]="client"></app-clientapps>
            <app-clientrevs *ngIf="card == 'revs'" [client]="client"></app-clientrevs>
        </div>




        <!--
            <div class="tab-pane fade" id="accountadmin-avail_purchases">
              <div class="card-body pb-2">
                {% if client_purch %}
                <table class="table" width="100%" align="center">
                  <thead  style="background-color: black; border: 0; color: white;">
                  <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Price </th>
                    <th scope="col">Date Acquisition</th>
                    <th scope="col">Next Payment Date</th>
                  </tr>
                  </thead>
                  <tbody>
                  {% for purch in client_purch %}
                  <tr>
                    <td scope="row">{{ purch.product_plan.product.name }}</td>
                    <td>{{ purch.product_plan.price }}</td>
                    <td> {{ purch.created_at }}
                      {% if purch.available_until == None %}
                    <td> Not Applicable</td>
                    {% else %}
                    <td>{{ purch.available_until }}</td>
                    {% endif %}
                    </td>
                  </tr>
                  {% endfor %}
                  </tbody>
                </table>
                <div class="col-lg-12" style="margin-bottom: 25px">
                  <div class="product__pagination">
                    {% if page_purch.has_previous %}
                    <a href="javascript:insertParam({'page_purch':{{ page_purch.previous_page_number }} })">{{ page_purch.previous_page_number }}</a>
                    {% endif %}
                    <a class="active" href="">{{ page_purch.number }}</a>
                    {% if page_purch.has_next %}
                    <a href="javascript:insertParam({'page_purch':{{ page_purch.next_page_number }} })">{{ page_purch.next_page_number }}</a>
                    {% endif %}

                  </div>
                </div>
                {% else %}
                <h4 class="text-center"> You have no Apps! </h4>
                {% endif %}
              </div>
            </div>
            -->

      </div>
    </div>
  </div>
</ng-container>
<!--
  </div>
</div>
-->
